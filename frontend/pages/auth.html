<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Đăng nhập - AI Translation System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/theme-dark.css" />
    <link rel="stylesheet" href="/css/home.css" />
    <link rel="stylesheet" href="/css/auth.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="/js/auth_state.js" defer></script>
    <script>
      // Fetch Google Client ID from backend config
      fetch("/api/auth/config")
        .then((r) => r.json())
        .then((cfg) => {
          if (cfg.google_client_id) {
            window.GOOGLE_CLIENT_ID = cfg.google_client_id;
          }
        })
        .catch((err) => console.warn("Could not fetch Google Client ID:", err));
    </script>
  </head>
  <body class="theme-dark">
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-logo">
          <i class="fas fa-language"></i>
          <span>AI Translator</span>
        </div>
        <div class="nav-links">
          <a href="/" class="nav-link">Trang chủ</a>
          <a href="home.html#features" class="nav-link">Tính năng</a>
          <a href="home.html#pricing" class="nav-link">Giá cả</a>
          <a href="about.html" class="nav-link">Về chúng tôi</a>
          <a href="contact.html" class="nav-link">Liên hệ</a>
        </div>
      </div>
    </nav>

    <section class="auth-section">
      <div class="container">
        <div class="auth-container">
          <div class="auth-tabs">
            <button
              class="auth-tab active"
              data-target="login"
              onclick="showAuthTab('login')"
            >
              Đăng nhập
            </button>
            <button
              class="auth-tab"
              data-target="register"
              onclick="showAuthTab('register')"
            >
              Đăng ký
            </button>
          </div>

          <!-- Login Tab -->
          <div id="login-tab" class="auth-form active">
            <div class="auth-header">
              <h2>Đăng nhập tài khoản</h2>
              <p>Chào mừng trở lại! Vui lòng đăng nhập để tiếp tục.</p>
            </div>

            <div class="auth-methods">
              <button class="google-auth-btn" onclick="signInWithGoogle()">
                <i class="fab fa-google"></i>
                Đăng nhập bằng Google
              </button>

              <div class="divider">
                <span>hoặc</span>
              </div>
            </div>

            <form class="login-form" onsubmit="handleLogin(event)">
              <div class="form-group">
                <label for="login-email">Email</label>
                <input
                  type="email"
                  id="login-email"
                  required
                  placeholder="Nhập email của bạn"
                />
              </div>

              <div class="form-group">
                <label for="login-password">Mật khẩu</label>
                <div class="password-input">
                  <input
                    type="password"
                    id="login-password"
                    required
                    placeholder="Nhập mật khẩu"
                  />
                  <button
                    type="button"
                    class="toggle-password"
                    onclick="togglePassword('login-password')"
                  >
                    <i class="fas fa-eye"></i>
                  </button>
                </div>
              </div>

              <div class="form-options">
                <label class="checkbox-label">
                  <input type="checkbox" id="remember-me" />
                  <span class="checkmark"></span>
                  Ghi nhớ đăng nhập
                </label>
                <a href="#" class="forgot-password">Quên mật khẩu?</a>
              </div>

              <button type="submit" class="btn-primary auth-submit">
                <i class="fas fa-sign-in-alt"></i> Đăng nhập
              </button>
            </form>

            <div class="auth-footer">
              <p>
                Chưa có tài khoản?
                <a href="#" onclick="showAuthTab('register')">Đăng ký ngay</a>
              </p>
            </div>
          </div>

          <!-- Register Tab -->
          <div id="register-tab" class="auth-form">
            <div class="auth-header">
              <h2>Tạo tài khoản mới</h2>
              <p>Tham gia cùng hàng nghìn người dùng khác!</p>
            </div>

            <div class="auth-methods">
              <button class="google-auth-btn" onclick="signInWithGoogle()">
                <i class="fab fa-google"></i>
                Đăng ký bằng Google
              </button>

              <div class="divider">
                <span>hoặc</span>
              </div>
            </div>

            <form class="register-form" onsubmit="handleRegister(event)">
              <div class="form-row">
                <div class="form-group">
                  <label for="register-firstname">Họ</label>
                  <input
                    type="text"
                    id="register-firstname"
                    required
                    placeholder="Nhập họ"
                  />
                </div>
                <div class="form-group">
                  <label for="register-lastname">Tên</label>
                  <input
                    type="text"
                    id="register-lastname"
                    required
                    placeholder="Nhập tên"
                  />
                </div>
              </div>

              <div class="form-group">
                <label for="register-email">Email</label>
                <input
                  type="email"
                  id="register-email"
                  required
                  placeholder="Nhập email"
                />
              </div>

              <div class="form-group">
                <label for="register-password">Mật khẩu</label>
                <div class="password-input">
                  <input
                    type="password"
                    id="register-password"
                    required
                    placeholder="Tạo mật khẩu"
                    minlength="8"
                  />
                  <button
                    type="button"
                    class="toggle-password"
                    onclick="togglePassword('register-password')"
                  >
                    <i class="fas fa-eye"></i>
                  </button>
                </div>
                <div class="password-strength">
                  <div class="strength-meter">
                    <div class="strength-fill" id="password-strength"></div>
                  </div>
                  <span class="strength-text" id="strength-text"
                    >Mật khẩu yếu</span
                  >
                </div>
              </div>

              <div class="form-group">
                <label for="register-confirm-password">Xác nhận mật khẩu</label>
                <div class="password-input">
                  <input
                    type="password"
                    id="register-confirm-password"
                    required
                    placeholder="Nhập lại mật khẩu"
                  />
                  <button
                    type="button"
                    class="toggle-password"
                    onclick="togglePassword('register-confirm-password')"
                  >
                    <i class="fas fa-eye"></i>
                  </button>
                </div>
              </div>

              <div class="form-options">
                <label class="checkbox-label">
                  <input type="checkbox" id="agree-terms" required />
                  <span class="checkmark"></span>
                  Tôi đồng ý với
                  <a href="#" target="_blank">Điều khoản sử dụng</a> và
                  <a href="#" target="_blank">Chính sách bảo mật</a>
                </label>
              </div>

              <div class="form-options">
                <label class="checkbox-label">
                  <input type="checkbox" id="subscribe-newsletter" />
                  <span class="checkmark"></span>
                  Nhận tin tức và cập nhật mới nhất
                </label>
              </div>

              <button type="submit" class="btn-primary auth-submit">
                <i class="fas fa-user-plus"></i> Tạo tài khoản
              </button>
            </form>

            <div class="auth-footer">
              <p>
                Đã có tài khoản?
                <a href="#" onclick="showAuthTab('login')">Đăng nhập</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script src="/js/auth.js"></script>
  </body>
</html>
